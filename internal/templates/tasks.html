<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Мои задачи</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<header>
    <h1>Мои задачи</h1>
</header>

<main>
    <div class="container">
        <form class="add-form" action="/tasks" method="POST">
            <label>
                <input type="text" name="name" placeholder="Название задачи" required>
            </label>
            <label>
                <textarea name="description" placeholder="Описание"></textarea>
            </label>
            <button type="submit" class="btn">Добавить задачу</button>
        </form>

        <ul class="task-list">
            {{range .Tasks}}
            <li class="task-item {{if .Completed}}completed{{end}}">
                <div class="task-info">
                    <h3>{{.Name}}</h3>
                    <p>{{.Description}}</p>
                    <small>Создано: {{.CreatedAt.Format "02.01.2006 15:04"}}</small>
                </div>
                <form action="/tasks/{{.ID}}/toggle" method="POST">
                    <button class="btn-small" type="submit">
                        {{if .Completed}}Отменить{{else}}Готово{{end}}
                    </button>
                </form>
            </li>
            {{else}}
            <p class="empty">Пока нет задач</p>
            {{end}}
        </ul>
    </div>
</main>

<footer>
    <a href="/" class="link">На главную</a>
</footer>
</body>
</html>