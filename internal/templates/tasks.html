<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Задачи</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<header>
    <h1>Задачи</h1>
</header>

<main>
    <div class="container">
        <form class="add-form" action="/tasks" method="POST">
            <label>
                <input type="text" name="name" placeholder="Название задачи" required>
            </label>
            <label>
                <textarea name="description" placeholder="Описание"></textarea>
            </label>
            <label>
                <input type="checkbox" name="completed"> Выполнено
            </label>
            <br>
            <button type="submit" class="btn">Добавить задачу</button>
        </form>

        <ul class="vado-list">
            {{range .Tasks}}
            <li class="task-item {{if .Completed}}completed{{end}}" id="task-{{.ID}}">
                <div>
                    <h3>{{.Name}}</h3>
                    <p>{{.Description}}</p>
                    <small>Создано: {{.CreatedAt.Format "02.01.2006 15:04"}}</small>
                </div>

                <div>
                    <label>
                        <input type="checkbox" name="completed" {{if .Completed}}checked{{end}}>
                        Завершено
                    </label>

                    <button class="btn-small btn-danger" onclick="deleteTask('{{.ID}}')">Удалить</button>
                </div>
            </li>
            {{else}}
            <p class="empty">Пока нет задач</p>
            {{end}}
        </ul>
    </div>
    <script src="/static/js/main.js"></script>
</main>

<footer>
    <a href="/" class="link">На главную</a>
</footer>
</body>
</html>